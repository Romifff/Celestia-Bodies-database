CREATE DATABASE universe;
CREATE TABLE galaxy(galaxy_id SERIAL PRIMARY KEY);
ALTER TABLE galaxy ADD description TEXT;
ALTER TABLE galaxy ADD name VARCHAR(30) NOT NULL UNIQUE;
ALTER TABLE galaxy ADD COLUMN distance_from_earth NUMERIC;
ALTER TABLE galaxy ADD COLUMN has_life BOOLEAN;
CREATE TABLE star(star_id SERIAL PRIMARY KEY);
ALTER TABLE star ADD COLUMN galaxy_id INT;
ALTER TABLE star ADD FOREIGN KEY (galaxy_id) REFERENCES galaxy(galaxy_id);
ALTER TABLE star ADD COLUMN name VARCHAR(30) NOT NULL, ADD COLUMN age_in_millions_of_years INT, ADD COLUMN description TEXT;
ALTER TABLE star ADD CONSTRAINT unique_constraint UNIQUE(name);
CREATE TABLE planet(planet_id SERIAL PRIMARY KEY, name VARCHAR(30) UNIQUE, age_in_millions_of_years INT, description TEXT, has_life BOOLEAN, is_spherical BOOLEAN);
ALTER TABLE planet ADD COLUMN star_id INT;
ALTER TABLE planet ADD FOREIGN KEY (star_id) REFERENCES star(star_id);
ALTER TABLE planet ALTER COLUMN name SET NOT NULL;
CREATE TABLE moon(moon_id SERIAL PRIMARY KEY, name VARCHAR(30) UNIQUE, age_in_millions_of_years INT, description TEXT, planet_id INT);
ALTER TABLE moon ADD FOREIGN KEY (planet_id) REFERENCES planet(planet_id);
ALTER TABLE moon ALTER COLUMN name SET NOT NULL;
CREATE TABLE asteroid(asteroid_id SERIAL PRIMARY KEY, name VARCHAR(30) UNIQUE NOT NULL);
ALTER TABLE asteroid ADD COLUMN star VARCHAR(30) NOT NULL, ADD COLUMN size_in_kilometers_in_diameter NUMERIC;
INSERT INTO galaxy(name, distance_from_earth, has_life) VALUES('Andromeda Galaxy', 2500000, FALSE);
INSERT INTO galaxy(name, distance_from_earth, has_life) VALUES('Milk Way', 0, TRUE), ('Triangulum Galaxy', 2700000, FALSE), ('Large Magellanic Cloud', 160000, FALSE), ('Small Magellanic Cloud', 200000, FALSE), ('The Pinwheel Galaxy', 23000000, FALSE);
INSERT INTO star(galaxy_id, name, age_in_millions_of_years) VALUES(2, 'Alpha Centauri', 4900), (3, 'HD 154368', 20);
INSERT INTO star(galaxy_id, name, age_in_millions_of_years) VALUES(1, 'Sun', 4603), (4, 'R136a1', 2), (5, 'HV12271', 10000), (6, 'SAO 206 462', 5000);
 INSERT INTO planet(name, age_in_millions_of_years, has_life, is_spherical, star_id) values('Mercury', 4500, FALSE, TRUE, 3), ('Venus', 4500, FALSE, TRUE, 3), ('Earth', 4500, FALSE, TRUE, 3), ('Mars', 4500, FALSE, TRUE, 3);
 INSERT INTO planet(name, age_in_millions_of_years, has_life, is_spherical, star_id) values('Jupiter', 4600, FALSE, TRUE, 3), ('Saturn', 4600, FALSE, TRUE, 3), ('Uranus', 4600, FALSE, TRUE, 3), ('Neptun', 4600, FALSE, TRUE, 3);
 UPDATE planet SET has_life = TRUE WHERE name = 'Earth';
 INSERT INTO planet(name, age_in_millions_of_years, has_life, is_spherical, star_id) VALUES('HD 154 368 b', 10, FALSE, TRUE, 2), ('Planet1', 15, FALSE, FALSE, 5), ('Planet2', 3500, FALSE, TRUE, 4), ('Planet3', 444, FALSE, TRUE, 6);
 INSERT INTO moon(name, planet_id) VALUES('moon1', 2);
 INSERT INTO moon(name, planet_id) VALUES('moon2', 5), ('moon3', 8), ('moon4', 1), ('moon5', 12);
 INSERT INTO moon(name, planet_id) VALUES('moon6', 3), ('moon7', 9), ('moon8', 11), ('moon9', 6), ('moon10', 5);
 INSERT INTO moon(name, planet_id) VALUES('moon11', 7), ('moon12', 7), ('moon13', 7), ('moon14', 7), ('moon15', 7);
 INSERT INTO moon(name, planet_id) VALUES('moon16', 1), ('moon17', 1), ('moon18', 1), ('moon19', 10), ('moon20', 10);
 INSERT INTO asteroid(name, star_name, size_in_kilometers_diameter) VALUES('Ceres', 'Sun', 950), ('Vesta', 'Sun', 525), ('Pallas', 'Sun', 520);
